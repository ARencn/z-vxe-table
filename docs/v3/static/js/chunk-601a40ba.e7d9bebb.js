(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-601a40ba"],{"4df4":function(e,n,t){"use strict";var a=t("da84"),i=t("0366"),s=t("c65b"),l=t("7b0b"),r=t("9bdd"),o=t("e95a"),d=t("68ee"),f=t("07fa"),p=t("8418"),c=t("9a1f"),u=t("35a1"),v=a.Array;e.exports=function(e){var n=l(e),t=d(this),a=arguments.length,m=a>1?arguments[1]:void 0,x=void 0!==m;x&&(m=i(m,a>2?arguments[2]:void 0));var b,h,w,y,g,_,E=u(n),C=0;if(!E||this==v&&o(E))for(b=f(n),h=t?new this(b):v(b);b>C;C++)_=x?m(n[C],C):n[C],p(h,C,_);else for(y=c(n,E),g=y.next,h=t?new this:[];!(w=s(g,y)).done;C++)_=x?r(y,m,[w.value,C],!0):w.value,p(h,C,_);return h.length=C,h}},"9bdd":function(e,n,t){var a=t("825a"),i=t("2a62");e.exports=function(e,n,t,s){try{return s?n(a(t)[0],t[1]):n(t)}catch(l){i(e,"throw",l)}}},a15b:function(e,n,t){"use strict";var a=t("23e7"),i=t("e330"),s=t("44ad"),l=t("fc6a"),r=t("a640"),o=i([].join),d=s!=Object,f=r("join",",");a({target:"Array",proto:!0,forced:d||!f},{join:function(e){return o(l(this),void 0===e?",":e)}})},a2e4:function(e,n,t){"use strict";t.r(n);var a=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("p",{staticClass:"tip"},[e._v("实现附件上传，使用展开行和 "),t("table-api-link",{attrs:{prop:"readFile"}}),e._v(" 本地文件读取函数"),t("span",{staticClass:"red"},[e._v("（具体请自行实现，该示例仅供参考）")])],1),t("vxe-grid",{ref:"xGrid",attrs:{border:"",resizable:"","max-height":"500",columns:e.tableColumn,data:e.tableData},scopedSlots:e._u([{key:"fileExpand",fn:function(n){var a=n.row;return[a.fileList.length?t("ul",{staticClass:"file-list"},e._l(a.fileList,(function(n,a){return t("li",{key:a},[t("span",[e._v(e._s(n.name))]),t("span",[e._v(e._s(n.size))]),t("span",[e._v(e._s(n.type))]),t("span",[e._v(e._s(n.date))])])})),0):t("div",{staticClass:"file-empty"},[e._v("暂无附件")])]}},{key:"cellExpand",fn:function(n){var a=n.row;return[t("span",[e._v("（"+e._s(a.fileList.length)+"）")])]}},{key:"operation",fn:function(n){var a=n.row;return[t("vxe-button",{attrs:{status:"primary"},on:{click:function(n){return e.uploadFileEvent(a)}}},[e._v("添加附件")])]}}])}),t("p",{staticClass:"demo-code"},[e._v(e._s(e.$t("app.body.button.showCode")))]),t("pre",[e._v("    "),t("pre-code",{staticClass:"xml"},[e._v(e._s(e.demoCodes[0]))]),e._v("\n    "),t("pre-code",{staticClass:"javascript"},[e._v(e._s(e.demoCodes[1]))]),e._v("\n    "),t("pre-code",{staticClass:"css"},[e._v(e._s(e.demoCodes[2]))]),e._v("\n  ")],1)],1)},i=[],s=(t("d3b7"),t("159b"),t("a630"),t("3ca3"),t("ac1f"),t("1276"),t("b0c0"),t("a15b"),t("fb6a"),t("c695")),l=t.n(s),r={data:function(){return{tableColumn:[{type:"seq",width:50},{type:"expand",width:120,slots:{content:"fileExpand",default:"cellExpand"}},{field:"name",title:"app.body.label.name"},{field:"sex",title:"app.body.label.sex"},{title:"操作",width:160,showOverflow:!0,slots:{default:"operation"}}],tableData:[{name:"name1",sex:"男",age:"26",fileList:[]},{name:"name2",sex:"女",age:"28",fileList:[]},{name:"name3",sex:"男",age:"30",fileList:[]}],demoCodes:['\n        <vxe-grid\n          border\n          resizable\n          ref="xGrid"\n          max-height="500"\n          :columns="tableColumn"\n          :data="tableData">\n          \x3c!--使用自定义模板--\x3e\n          <template #fileExpand="{ row }">\n            <ul v-if="row.fileList.length" class="file-list">\n              <li v-for="(file, index) in row.fileList" :key="index">\n                <span>{{ file.name }}</span>\n                <span>{{ file.size }}</span>\n                <span>{{ file.type }}</span>\n                <span>{{ file.date }}</span>\n              </li>\n            </ul>\n            <div v-else class="file-empty">暂无附件</div>\n          </template>\n          <template #cellExpand="{ row }">\n            <span>（{{ row.fileList.length }}）</span>\n          </template>\n          <template #operation="{ row }">\n            <vxe-button status="primary" @click="uploadFileEvent(row)">添加附件</vxe-button>\n          </template>\n        </vxe-grid>\n        ',"\n        import XEUtils from 'xe-utils'\n        \n        export default {\n          data () {\n            return {\n              tableColumn: [\n                { type: 'seq', width: 50 },\n                { type: 'expand', width: 120, slots: { content: 'fileExpand', default: 'cellExpand' } },\n                { field: 'name', title: 'app.body.label.name' },\n                { field: 'sex', title: 'app.body.label.sex' },\n                { title: '操作', width: 160, showOverflow: true, slots: { default: 'operation' } }\n              ],\n              tableData: [\n                { name: 'name1', sex: '男', age: '26', fileList: [] },\n                { name: 'name2', sex: '女', age: '28', fileList: [] },\n                { name: 'name3', sex: '男', age: '30', fileList: [] }\n              ]\n            }\n          },\n          methods: {\n            // 读取附件\n            uploadFileEvent (row) {\n              const $grid = this.$refs.xGrid\n              // 读取附件\n              $grid.readFile({\n                multiple: true,\n                types: ['xlsx', 'csv', 'html']\n              }).then(params => {\n                const { files } = params\n                // 解析数据并显示\n                Array.from(files).forEach(file => {\n                  const ns = file.name.split('.')\n                  const name = ns.slice(0, ns.length - 1).join('')\n                  const type = ns[ns.length - 1]\n                  const record = {\n                    name: name,\n                    size: file.size,\n                    type: type,\n                    date: XEUtils.toDateString(new Date())\n                  }\n                  row.fileList.push(record)\n                })\n                // 加载完成后展开行\n                $grid.setRowExpand(row, true)\n              })\n            }\n          }\n        }\n        ","\n        .file-list li span{\n          display: inline-block;\n          width: 25%;\n        }\n        .file-empty {\n          text-align: center;\n        }\n        "]}},methods:{uploadFileEvent:function(e){var n=this.$refs.xGrid;n.readFile({multiple:!0,types:["xlsx","csv","html"]}).then((function(t){var a=t.files;Array.from(a).forEach((function(n){var t=n.name.split("."),a=t.slice(0,t.length-1).join(""),i=t[t.length-1],s={name:a,size:n.size,type:i,date:l.a.toDateString(new Date)};e.fileList.push(s)})),n.setRowExpand(e,!0)}))}}},o=r,d=(t("d41f"),t("2877")),f=Object(d["a"])(o,a,i,!1,null,"a4f80c98",null);n["default"]=f.exports},a630:function(e,n,t){var a=t("23e7"),i=t("4df4"),s=t("1c7e"),l=!s((function(e){Array.from(e)}));a({target:"Array",stat:!0,forced:l},{from:i})},d41f:function(e,n,t){"use strict";t("d9b0")},d9b0:function(e,n,t){},fb6a:function(e,n,t){"use strict";var a=t("23e7"),i=t("da84"),s=t("e8b5"),l=t("68ee"),r=t("861d"),o=t("23cb"),d=t("07fa"),f=t("fc6a"),p=t("8418"),c=t("b622"),u=t("1dde"),v=t("f36a"),m=u("slice"),x=c("species"),b=i.Array,h=Math.max;a({target:"Array",proto:!0,forced:!m},{slice:function(e,n){var t,a,i,c=f(this),u=d(c),m=o(e,u),w=o(void 0===n?u:n,u);if(s(c)&&(t=c.constructor,l(t)&&(t===b||s(t.prototype))?t=void 0:r(t)&&(t=t[x],null===t&&(t=void 0)),t===b||void 0===t))return v(c,m,w);for(a=new(void 0===t?b:t)(h(w-m,0)),i=0;m<w;m++,i++)m in c&&p(a,i,c[m]);return a.length=i,a}})}}]);