(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6b5d3455"],{"4df4":function(e,t,n){"use strict";var a=n("da84"),i=n("0366"),o=n("c65b"),l=n("7b0b"),r=n("9bdd"),d=n("e95a"),s=n("68ee"),c=n("07fa"),u=n("8418"),p=n("9a1f"),m=n("35a1"),f=a.Array;e.exports=function(e){var t=l(e),n=s(this),a=arguments.length,g=a>1?arguments[1]:void 0,v=void 0!==g;v&&(g=i(g,a>2?arguments[2]:void 0));var b,h,w,y,k,x,C=m(t),R=0;if(!C||this==f&&d(C))for(b=c(t),h=n?new this(b):f(b);b>R;R++)x=v?g(t[R],R):t[R],u(h,R,x);else for(y=p(t,C),k=y.next,h=n?new this:[];!(w=o(k,y)).done;R++)x=v?r(y,g,[w.value,R],!0):w.value,u(h,R,x);return h.length=R,h}},"9bdd":function(e,t,n){var a=n("825a"),i=n("2a62");e.exports=function(e,t,n,o){try{return o?t(a(n)[0],n[1]):t(n)}catch(l){i(e,"throw",l)}}},a630:function(e,t,n){var a=n("23e7"),i=n("4df4"),o=n("1c7e"),l=!o((function(e){Array.from(e)}));a({target:"Array",stat:!0,forced:l},{from:i})},ab93:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",{staticClass:"tip"},[e._v("实现可配置动态列、数据代理、工具栏、增删改查")]),n("vxe-grid",{attrs:{border:"",resizable:"","show-overflow":"","keep-source":"",height:"306","pager-config":e.tablePage,"proxy-config":e.tableProxy,columns:e.tableColumn,toolbar:e.tableToolbar,"edit-config":{trigger:"click",mode:"row",showStatus:!0}}}),n("p",{staticClass:"demo-code"},[e._v(e._s(e.$t("app.body.button.showCode")))]),n("pre",[e._v("    "),n("code",{staticClass:"xml"},[e._v(e._s(e.demoCodes[0]))]),e._v("\n    "),n("code",{staticClass:"javascript"},[e._v(e._s(e.demoCodes[1]))]),e._v("\n  ")]),n("p",{staticClass:"tip"},[e._v("级联动态列渲染，可以非常简单的实现功能复杂的可配置动态列")]),n("vxe-grid",{attrs:{border:"","show-overflow":"","keep-source":"",height:"290",loading:e.loading2,"pager-config":e.tablePage2,"proxy-config":e.tableProxy2,columns:e.tableColumn2,toolbar:e.tableToolbar2,"edit-rules":e.validRules2,"edit-config":{trigger:"click",mode:"row",showStatus:!0}},on:{"toolbar-button-click":e.toolbarButtonClickEvent}}),n("p",{staticClass:"demo-code"},[e._v(e._s(e.$t("app.body.button.showCode")))]),n("pre",[e._v("    "),n("code",{staticClass:"xml"},[e._v(e._s(e.demoCodes[2]))]),e._v("\n    "),n("code",{staticClass:"javascript"},[e._v(e._s(e.demoCodes[3]))]),e._v("\n  ")])],1)},i=[],o=(n("99af"),n("d3b7"),n("159b"),n("a630"),n("3ca3"),n("d81d"),n("b0c0"),n("9911"),n("4d63"),n("c607"),n("ac1f"),n("2c3e"),n("25f0"),n("628a")),l=n.n(o),r=n("f4e8"),d=n.n(r),s={data:function(){var e=[{value:"seq",label:"序号"},{value:"checkbox",label:"复选框"},{value:"radio",label:"单选框"}];return{tablePage:{pageSize:10,pageSizes:[10,15,20,50]},tableProxy:{props:{result:"result",total:"page.total"},ajax:{query:function(e){var t=e.page;return l.a.get("/api/column/page/list/".concat(t.pageSize,"/").concat(t.currentPage),{sort:"seq",order:"asc"})},delete:function(e){var t=e.body;return l.a.post("/api/column/save",t)},save:function(e){var t=e.body;return l.a.post("/api/column/save",t)}}},tableToolbar:{buttons:[{code:"reload",name:"刷新"},{code:"insert_actived",name:"新增"},{code:"mark_cancel",name:"标记/取消"},{code:"save",name:"保存"}],refresh:!0,custom:!0},tableColumn:[{type:"checkbox",width:50},{field:"seq",title:"排序",width:80,editRender:{name:"input"}},{field:"key",title:"列键值",width:100,editRender:{name:"input"}},{field:"name",title:"列名称",width:100,editRender:{name:"input"}},{field:"type",title:"列类型",width:120,editRender:{name:"$select",options:e,props:{clearable:!0}}},{field:"width",title:"列宽度",width:100,editRender:{name:"input",attrs:{placeholder:"*,*px,*%"}}},{field:"link",title:"是否链接",width:150,editRender:{name:"input"}},{field:"isEdit",title:"是否编辑",width:100,cellRender:{name:"$switch"}},{field:"required",title:"是否必填",width:140,cellRender:{name:"$switch"}},{field:"validator",title:"校验规则",width:140,editRender:{name:"input"}},{field:"validMsg",title:"校验提示消息",width:150,editRender:{name:"input"}},{field:"describe",title:"描述",width:200,showOverflow:!0,editRender:{name:"input"}},{field:"createTime",title:"创建时间",width:140,showOverflow:!0},{field:"updateTime",title:"更新时间",width:140,showOverflow:!0}],loading2:!1,tablePage2:{pageSize:10},tableProxy2:{props:{result:"result",total:"page.total"},ajax:{query:function(e){var t=e.page;return l.a.get("/api/user/page/list/".concat(t.pageSize,"/").concat(t.currentPage))},delete:function(e){var t=e.body;return l.a.post("/api/user/save",t)},save:function(e){var t=e.body;return l.a.post("/api/user/save",t)}}},tableToolbar2:{buttons:[{code:"reloadColumn",name:"刷新列配置",status:"primary"},{code:"insert_actived",name:"新增"},{code:"mark_cancel",name:"标记/取消"},{code:"save",name:"保存"}],refresh:!0,custom:!0},validRules2:null,tableColumn2:[],demoCodes:['\n        <vxe-grid\n          border\n          resizable\n          show-overflow\n          keep-source\n          height="306"\n          :pager-config="tablePage"\n          :proxy-config="tableProxy"\n          :columns="tableColumn"\n          :toolbar="tableToolbar"\n          :edit-config="{trigger: \'click\', mode: \'row\', showStatus: true}"></vxe-grid>\n        ',"\n        export default {\n          data () {\n            const typeList = [\n              { value: 'seq', label: '序号' },\n              { value: 'checkbox', label: '复选框' },\n              { value: 'radio', label: '单选框' }\n            ]\n            return {\n              tablePage: {\n                pageSize: 10,\n                pageSizes: [10, 15, 20, 50]\n              },\n              tableProxy: {\n                props: {\n                  result: 'result',\n                  total: 'page.total'\n                },\n                ajax: {\n                  query: ({ page }) => XEAjax.get(`/api/column/page/list/${page.pageSize}/${page.currentPage}`, { sort: 'seq', order: 'asc' }),\n                  delete: ({ body }) => XEAjax.post('/api/column/save', body),\n                  save: ({ body }) => XEAjax.post('/api/column/save', body)\n                }\n              },\n              tableToolbar: {\n                buttons: [\n                  { code: 'reload', name: '刷新' },\n                  { code: 'insert_actived', name: '新增' },\n                  { code: 'mark_cancel', name: '标记/取消' },\n                  { code: 'save', name: '保存' }\n                ],\n                refresh: true,\n                custom: true\n              },\n              tableColumn: [\n                { type: 'checkbox', width: 50 },\n                { field: 'seq', title: '排序', width: 80, editRender: { name: 'input' } },\n                { field: 'key', title: '列键值', width: 100, editRender: { name: 'input' } },\n                { field: 'name', title: '列名称', width: 100, editRender: { name: 'input' } },\n                { field: 'type', title: '列类型', width: 120, editRender: { name: '$select', options: typeList, props: { clearable: true } } },\n                { field: 'width', title: '列宽度', width: 100, editRender: { name: 'input', attrs: { placeholder: '*,*px,*%' } } },\n                { field: 'link', title: '是否链接', width: 150, editRender: { name: 'input' } },\n                { field: 'isEdit', title: '是否编辑', width: 100, cellRender: { name: '$switch' } },\n                { field: 'required', title: '是否必填', width: 140, cellRender: { name: '$switch' } },\n                { field: 'validator', title: '校验规则', width: 140, editRender: { name: 'input' } },\n                { field: 'validMsg', title: '校验提示消息', width: 150, editRender: { name: 'input' } },\n                { field: 'describe', title: '描述', width: 200, showOverflow: true, editRender: { name: 'input' } },\n                { field: 'createTime', title: '创建时间', width: 140, showOverflow: true },\n                { field: 'updateTime', title: '更新时间', width: 140, showOverflow: true }\n              ]\n            }\n          }\n        }\n        ",'\n        <vxe-grid\n          border\n          show-overflow\n          keep-source\n          height="530"\n          :loading="loading"\n          :pager-config="tablePage"\n          :proxy-config="tableProxy"\n          :columns="tableColumn"\n          :toolbar="tableToolbar"\n          :edit-config="{trigger: \'click\', mode: \'row\', showStatus: true}"\n          @toolbar-button-click="toolbarButtonClickEvent"></vxe-grid>\n        ',"\n        export default {\n          data () {\n            return {\n              loading2: false,\n              tablePage2: {\n                pageSize: 10\n              },\n              tableProxy2: {\n                props: {\n                  result: 'result',\n                  total: 'page.total'\n                },\n                ajax: {\n                  query: ({ page }) => XEAjax.get(`/api/user/page/list/${page.pageSize}/${page.currentPage}`),\n                  delete: ({ body }) => XEAjax.post('/api/user/save', body),\n                  save: ({ body }) => XEAjax.post('/api/user/save', body)\n                }\n              },\n              tableToolbar2: {\n                buttons: [\n                  { code: 'reloadColumn', name: '刷新列配置', status: 'primary' },\n                  { code: 'insert_actived', name: '新增' },\n                  { code: 'mark_cancel', name: '标记/取消' },\n                  { code: 'save', name: '保存' }\n                ],\n                refresh: true,\n                custom: true\n              },\n              validRules2: null,\n              tableColumn2: []\n            }\n          },\n          created () {\n            this.findColumn()\n          },\n          methods: {\n            findColumn () {\n              this.loading2 = true\n              XEAjax.get('/api/column/list', { sort: 'seq', order: 'asc' }).then(data => {\n                const validRules = {}\n                this.tableColumn2 = data.map(item => {\n                  const config = {\n                    title: item.name,\n                    width: item.width\n                  }\n                  if (item.type) {\n                    config.type = item.type\n                  } else {\n                    config.slots = {\n                      default: ({ row, column }) => {\n                        // 渲染链接\n                        if (item.link) {\n                          return [\n                            <a class=\"link\" href={ item.link }>{ row[column.property] }</a>\n                          ]\n                        }\n                        // 渲染文本\n                        return [\n                          <span>{ row[column.property] }</span>\n                        ]\n                      }\n                    }\n                    // 动态生成校验\n                    if (item.required) {\n                      validRules[item.key] = [\n                        { required: true, message: `请填写${item.name}` }\n                      ]\n                    }\n                    if (item.validator) {\n                      if (validRules[item.key]) {\n                        validRules[item.key].push({ pattern: new RegExp(item.validator), message: item.validMsg || `${item.name}校验不通过，请重新填写` })\n                      } else {\n                        validRules[item.key] = [\n                          { pattern: new RegExp(item.validator), message: item.validMsg || `${item.name}校验不通过，请重新填写` }\n                        ]\n                      }\n                    }\n                    if (item.key) {\n                      config.field = item.key\n                    }\n                    if (item.isEdit) {\n                      config.editRender = { name: 'input' }\n                    }\n                  }\n                  return config\n                })\n                this.validRules2 = validRules\n                this.loading2 = false\n              })\n            },\n            toolbarButtonClickEvent ({ code }, event) {\n              switch (code) {\n                case 'reloadColumn':\n                  this.findColumn()\n                  break\n              }\n            }\n          }\n        }\n        "]}},created:function(){this.findColumn()},mounted:function(){Array.from(this.$el.querySelectorAll("pre code")).forEach((function(e){d.a.highlightBlock(e)}))},methods:{findColumn:function(){var e=this,t=this.$createElement;this.loading2=!0,l.a.get("/api/column/list",{sort:"seq",order:"asc"}).then((function(n){var a={};e.tableColumn2=n.map((function(e){var n={title:e.name,width:e.width};return e.type?n.type=e.type:(n.slots={default:function(n){var a=n.row,i=n.column;return e.link?[t("a",{class:"link",attrs:{href:e.link}},[a[i.property]])]:[t("span",[a[i.property]])]}},e.required&&(a[e.key]=[{required:!0,message:"请填写".concat(e.name)}]),e.validator&&(a[e.key]?a[e.key].push({pattern:new RegExp(e.validator),message:e.validMsg||"".concat(e.name,"校验不通过，请重新填写")}):a[e.key]=[{pattern:new RegExp(e.validator),message:e.validMsg||"".concat(e.name,"校验不通过，请重新填写")}]),e.key&&(n.field=e.key),e.isEdit&&(n.editRender={name:"input"})),n})),e.validRules2=a,e.loading2=!1}))},toolbarButtonClickEvent:function(e){var t=e.code;switch(t){case"reloadColumn":this.findColumn();break}}}},c=s,u=n("2877"),p=Object(u["a"])(c,a,i,!1,null,null,null);t["default"]=p.exports}}]);