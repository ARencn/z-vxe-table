(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d20fb17"],{b55c:function(n,e,t){"use strict";t.r(e);var o=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",[t("p",{staticClass:"tip"},[n._v("显示表尾，服务端计算表尾合计")]),t("vxe-grid",{ref:"xGrid",attrs:{border:"","show-overflow":"","show-header-overflow":"","show-footer-overflow":"","show-footer":"",height:"500","row-id":"id","footer-method":n.footerMethod,"checkbox-config":{checkField:"checked",labelField:"id"},loading:n.loading}}),t("p",{staticClass:"demo-code"},[n._v(n._s(n.$t("app.body.button.showCode")))]),t("pre",[n._v("    "),t("code",{staticClass:"xml"},[n._v(n._s(n.demoCodes[0]))]),n._v("\n    "),t("code",{staticClass:"javascript"},[n._v(n._s(n.demoCodes[1]))]),n._v("\n  ")])],1)},i=[],a=(t("d3b7"),t("159b"),t("a630"),t("3ca3"),t("ddb0"),t("99af"),t("d81d"),t("c7cd"),t("1487")),l=t.n(a),r={data:function(){return{loading:!1,colIndex:0,rowIndex:1,footerData:[],demoCodes:['\n        <vxe-grid\n          border\n          show-overflow\n          show-header-overflow\n          show-footer-overflow\n          show-footer\n          ref="xGrid"\n          height="500"\n          row-id="id"\n          :footer-method="footerMethod"\n          :checkbox-config="{checkField: \'checked\', labelField: \'id\'}"\n          :loading="loading">\n        </vxe-grid>\n\n        ',"\n        export default {\n          data () {\n            return {\n              loading: false,\n              colIndex: 0,\n              rowIndex: 1,\n              footerData: []\n            }\n          },\n          created () {\n            // 动态定义，阻断 vue 对大数据双向绑定，提升加载速度\n            this.allData = []\n            this.allColumn = []\n            this.init()\n          },\n          methods: {\n            init () {\n              this.loading = true\n              Promise.all([\n                // 模拟后台获取列信息\n                this.findColumnList(400).then(data => {\n                  const allColumn = this.allData.concat(data)\n                  if (this.$refs.xGrid) {\n                    this.$refs.xGrid.loadColumn(allColumn)\n                  }\n                  this.allColumn = allColumn\n                  // 模拟后台获取合计数据\n                  this.footerData = [\n                    allColumn.map((column, columnIndex) => {\n                      if (columnIndex === 0) {\n                        return '平均'\n                      }\n                      return columnIndex\n                    }),\n                    allColumn.map((column, columnIndex) => {\n                      if (columnIndex === 0) {\n                        return '和值'\n                      }\n                      return columnIndex\n                    })\n                  ]\n                }),\n                this.findDataList(800).then(data => {\n                  this.allData = this.allData.concat(data)\n                  if (this.$refs.xGrid) {\n                    this.$refs.xGrid.loadData(this.allData)\n                  }\n                })\n              ]).then(() => {\n                this.loading = false\n              })\n            },\n            findColumnList (size) {\n              return new Promise(resolve => {\n                setTimeout(() => {\n                  const columns = []\n                  for (let index = 0; index < size; index++) {\n                    const key = this.colIndex++\n                    const config = {\n                      field: key ? `col_${key}` : 'id',\n                      title: key ? `标题_${key}` : 'ID',\n                      width: 140\n                    }\n                    if (!key) {\n                      config.type = 'checkbox'\n                    }\n                    if (key < 2) {\n                      config.fixed = 'left'\n                    }\n                    columns.push(config)\n                  }\n                  resolve(columns)\n                }, 250)\n              })\n            },\n            findDataList (size) {\n              return new Promise(resolve => {\n                setTimeout(() => {\n                  const list = []\n                  for (let index = 0; index < size; index++) {\n                    const key = this.rowIndex++\n                    const item = { id: key, checked: false }\n                    // 由于生成数据比较耗时，所以固定生成1000字段\n                    Array.from(new Array(1000)).forEach((num, cIndex) => {\n                      item[`col_${cIndex}`] = `内容_${cIndex}_${index}`\n                    })\n                    list.push(item)\n                  }\n                  resolve(list)\n                }, 250)\n              })\n            },\n            footerMethod () {\n              return this.footerData\n            }\n          }\n        }\n        "]}},created:function(){this.allData=[],this.allColumn=[],this.init()},mounted:function(){Array.from(this.$el.querySelectorAll("pre code")).forEach((function(n){l.a.highlightBlock(n)}))},methods:{init:function(){var n=this;this.loading=!0,Promise.all([this.findColumnList(400).then((function(e){var t=n.allData.concat(e);n.$refs.xGrid&&n.$refs.xGrid.loadColumn(t),n.allColumn=t,n.footerData=[t.map((function(n,e){return 0===e?"平均":e})),t.map((function(n,e){return 0===e?"和值":e}))]})),this.findDataList(800).then((function(e){n.allData=n.allData.concat(e),n.$refs.xGrid&&n.$refs.xGrid.loadData(n.allData)}))]).then((function(){n.loading=!1}))},findColumnList:function(n){var e=this;return new Promise((function(t){setTimeout((function(){for(var o=[],i=0;i<n;i++){var a=e.colIndex++,l={field:a?"col_".concat(a):"id",title:a?"标题_".concat(a):"ID",width:140};a||(l.type="checkbox"),a<2&&(l.fixed="left"),o.push(l)}t(o)}),250)}))},findDataList:function(n){var e=this;return new Promise((function(t){setTimeout((function(){for(var o=[],i=function(n){var t=e.rowIndex++,i={id:t,checked:!1};Array.from(new Array(1e3)).forEach((function(e,t){i["col_".concat(t)]="内容_".concat(t,"_").concat(n)})),o.push(i)},a=0;a<n;a++)i(a);t(o)}),250)}))},footerMethod:function(){return this.footerData}}},d=r,s=t("2877"),c=Object(s["a"])(d,o,i,!1,null,null,null);e["default"]=c.exports}}]);