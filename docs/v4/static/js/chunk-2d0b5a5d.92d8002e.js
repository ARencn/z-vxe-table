(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b5a5d"],{"1a90":function(e,t,n){"use strict";n.r(t);n("b0c0");var a=n("7a23"),l=Object(a["createElementVNode"])("p",{class:"tip"},[Object(a["createTextVNode"])("实现简单的唯一下拉选项列表"),Object(a["createElementVNode"])("span",{class:"red"},"（具体请自行实现，该示例仅供参考）")],-1),o=Object(a["createTextVNode"])("新增"),r={class:"demo-code"},d=Object(a["createTextVNode"])("      "),c=Object(a["createTextVNode"])("\r\n      "),i=Object(a["createTextVNode"])("\r\n    ");function u(e,t,n,u,b,s){var v=Object(a["resolveComponent"])("vxe-button"),m=Object(a["resolveComponent"])("vxe-toolbar"),f=Object(a["resolveComponent"])("vxe-column"),p=Object(a["resolveComponent"])("vxe-input"),x=Object(a["resolveComponent"])("vxe-option"),j=Object(a["resolveComponent"])("vxe-select"),O=Object(a["resolveComponent"])("vxe-table"),w=Object(a["resolveComponent"])("pre-code");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",null,[l,Object(a["createVNode"])(m,null,{buttons:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(v,{onClick:t[0]||(t[0]=function(t){return e.insertEvent()})},{default:Object(a["withCtx"])((function(){return[o]})),_:1})]})),_:1}),Object(a["createVNode"])(O,{border:"",resizable:"","show-overflow":"",ref:"xTable","max-height":"400",data:e.demo1.tableData,"edit-config":{trigger:"click",mode:"row"},onEditActived:e.editActivedEvent},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(f,{type:"seq",width:"60"}),Object(a["createVNode"])(f,{field:"name",title:"Name","edit-render":{}},{edit:Object(a["withCtx"])((function(e){var t=e.row;return[Object(a["createVNode"])(p,{modelValue:t.name,"onUpdate:modelValue":function(e){return t.name=e},type:"text"},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),Object(a["createVNode"])(f,{field:"role",title:"Role","edit-render":{}},{default:Object(a["withCtx"])((function(t){var n=t.row;return[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(e.formatRole(n.role)),1)]})),edit:Object(a["withCtx"])((function(t){var n=t.row;return[Object(a["createVNode"])(j,{modelValue:n.role,"onUpdate:modelValue":function(e){return n.role=e},clearable:"",transfer:"",onChange:e.roleChangeEvent},{default:Object(a["withCtx"])((function(){return[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.demo1.roleList,(function(e){return Object(a["openBlock"])(),Object(a["createBlock"])(x,{key:e.value,value:e.value,label:e.label,disabled:e.disabled},null,8,["value","label","disabled"])})),128))]})),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]})),_:1}),Object(a["createVNode"])(f,{field:"date13",title:"Date","edit-render":{}},{edit:Object(a["withCtx"])((function(e){var t=e.row;return[Object(a["createVNode"])(p,{modelValue:t.date13,"onUpdate:modelValue":function(e){return t.date13=e},type:"date",transfer:""},null,8,["modelValue","onUpdate:modelValue"])]})),_:1})]})),_:1},8,["data","onEditActived"]),Object(a["createElementVNode"])("p",r,Object(a["toDisplayString"])(e.$t("app.body.button.showCode")),1),Object(a["createElementVNode"])("pre",null,[d,Object(a["createVNode"])(w,{class:"xml"},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.demoCodes[0]),1)]})),_:1}),c,Object(a["createVNode"])(w,{class:"typescript"},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.demoCodes[1]),1)]})),_:1}),i])])}n("7db0"),n("d3b7"),n("159b");var b=Object(a["defineComponent"])({setup:function(){var e=Object(a["ref"])({}),t=Object(a["reactive"])({tableData:[{id:10001,name:"Test1",nickname:"T1",role:"1",age:28,address:"Shenzhen",date12:"",date13:""},{id:10002,name:"Test2",nickname:"T2",role:"2",age:22,address:"Guangzhou",date12:"",date13:"2020-08-20"}],roleList:[{label:"前端",value:"1",disabled:!1},{label:"后端",value:"2",disabled:!1},{label:"项目经理",value:"3",disabled:!1},{label:"设计师",value:"4",disabled:!1},{label:"运维",value:"5",disabled:!1}]}),n=function(e){var n=t.roleList.find((function(t){return t.value===e}));return n?n.label:e},l=function(){var t=e.value,n={};t.insert(n)},o=function(){var n=e.value,a=n.getTableData(),l=a.fullData;t.roleList.forEach((function(e){e.value&&(e.disabled=l.some((function(t){return t.role===e.value})))}))},r=function(){o()},d=function(){o()};return Object(a["nextTick"])((function(){o()})),{xTable:e,demo1:t,formatRole:n,insertEvent:l,roleChangeEvent:r,editActivedEvent:d,demoCodes:['\n        <vxe-toolbar>\n          <template #buttons>\n            <vxe-button @click="insertEvent()">新增</vxe-button>\n          </template>\n        </vxe-toolbar>\n\n        <vxe-table\n          border\n          resizable\n          show-overflow\n          ref="xTable"\n          max-height="400"\n          :data="demo1.tableData"\n          :edit-config="{trigger: \'click\', mode: \'row\'}"\n          @edit-actived="editActivedEvent">\n          <vxe-column type="seq" width="60"></vxe-column>\n          <vxe-column field="name" title="Name" :edit-render="{}">\n            <template #edit="{ row }">\n              <vxe-input v-model="row.name" type="text"></vxe-input>\n            </template>\n          </vxe-column>\n          <vxe-column field="role" title="Role" :edit-render="{}">\n            <template #default="{ row }">\n              <span>{{ formatRole(row.role) }}</span>\n            </template>\n            <template #edit="{ row }">\n              <vxe-select v-model="row.role" clearable transfer @change="roleChangeEvent">\n                <vxe-option v-for="item in demo1.roleList" :key="item.value" :value="item.value" :label="item.label" :disabled="item.disabled"></vxe-option>\n              </vxe-select>\n            </template>\n          </vxe-column>\n          <vxe-column field="date13" title="Date" :edit-render="{}">\n            <template #edit="{ row }">\n              <vxe-input v-model="row.date13" type="date" transfer></vxe-input>\n            </template>\n          </vxe-column>\n        </vxe-table>\n        ',"\n        import { defineComponent, nextTick, reactive, ref } from 'vue'\n        import { VxeTableInstance } from 'vxe-table'\n\n        export default defineComponent({\n          setup () {\n            const xTable = ref({} as VxeTableInstance)\n\n            const demo1 = reactive({\n              tableData: [\n                { id: 10001, name: 'Test1', nickname: 'T1', role: '1', age: 28, address: 'Shenzhen', date12: '', date13: '' },\n                { id: 10002, name: 'Test2', nickname: 'T2', role: '2', age: 22, address: 'Guangzhou', date12: '', date13: '2020-08-20' }\n              ],\n              roleList: [\n                { label: '前端', value: '1', disabled: false },\n                { label: '后端', value: '2', disabled: false },\n                { label: '项目经理', value: '3', disabled: false },\n                { label: '设计师', value: '4', disabled: false },\n                { label: '运维', value: '5', disabled: false }\n              ]\n            })\n\n            const formatRole = (value: any) => {\n              const item = demo1.roleList.find(item => item.value === value)\n              return item ? item.label : value\n            }\n\n            const insertEvent = () => {\n              const $table = xTable.value\n              const record = {}\n              $table.insert(record)\n            }\n\n            const updateRoleList = () => {\n              const $table = xTable.value\n              // 获取表格中的全量数据\n              const { fullData } = $table.getTableData()\n              demo1.roleList.forEach(item => {\n                if (item.value) {\n                  // 如果当前选项已经被选过，则禁用\n                  item.disabled = fullData.some(row => row.role === item.value)\n                }\n              })\n            }\n\n            const roleChangeEvent = () => {\n              updateRoleList()\n            }\n\n            const editActivedEvent = () => {\n              // 激活编辑时检查剩余选项是否可选择\n              updateRoleList()\n            }\n\n            nextTick(() => {\n              updateRoleList()\n            })\n\n            return {\n              xTable,\n              demo1,\n              formatRole,\n              insertEvent,\n              roleChangeEvent,\n              editActivedEvent\n            }\n          }\n        })\n        "]}}}),s=n("6b0d"),v=n.n(s);const m=v()(b,[["render",u]]);t["default"]=m}}]);