(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d92a21a6"],{"1da1":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("d3b7");function a(e,t,n,a,r,o,c){try{var i=e[o](c),d=i.value}catch(l){return void n(l)}i.done?t(d):Promise.resolve(d).then(a,r)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var c=e.apply(t,n);function i(e){a(c,r,o,i,d,"next",e)}function d(e){a(c,r,o,i,d,"throw",e)}i(void 0)}))}}},fe33:function(e,t,n){"use strict";n.r(t);var a=n("7a23"),r=Object(a["createElementVNode"])("p",{class:"tip"},"树形结构，增删改查",-1),o=Object(a["createTextVNode"])("新增"),c=Object(a["createTextVNode"])("获取新增"),i=Object(a["createTextVNode"])("获取删除"),d=Object(a["createTextVNode"])("获取修改"),l=Object(a["createTextVNode"])("插入节点"),s=Object(a["createTextVNode"])("顶部插入节点"),u=Object(a["createTextVNode"])("尾部插入子节点"),p=Object(a["createTextVNode"])("删除节点"),b={class:"demo-code"},m=Object(a["createTextVNode"])("      "),v=Object(a["createTextVNode"])("\r\n      "),x=Object(a["createTextVNode"])("\r\n    ");function w(e,t,n,w,f,j){var g=Object(a["resolveComponent"])("vxe-button"),y=Object(a["resolveComponent"])("vxe-toolbar"),T=Object(a["resolveComponent"])("vxe-column"),O=Object(a["resolveComponent"])("vxe-input"),h=Object(a["resolveComponent"])("vxe-table"),R=Object(a["resolveComponent"])("pre-code");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",null,[r,Object(a["createVNode"])(y,{ref:"xToolbar",refresh:{query:e.searchMethod},export:"",print:"",custom:""},{buttons:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(g,{onClick:e.insertEvent},{default:Object(a["withCtx"])((function(){return[o]})),_:1},8,["onClick"]),Object(a["createVNode"])(g,{onClick:e.getInsertEvent},{default:Object(a["withCtx"])((function(){return[c]})),_:1},8,["onClick"]),Object(a["createVNode"])(g,{onClick:e.getRemoveEvent},{default:Object(a["withCtx"])((function(){return[i]})),_:1},8,["onClick"]),Object(a["createVNode"])(g,{onClick:e.getUpdateEvent},{default:Object(a["withCtx"])((function(){return[d]})),_:1},8,["onClick"])]})),_:1},8,["refresh"]),Object(a["createVNode"])(h,{resizable:"","show-overflow":"","keep-source":"",ref:"xTable","row-id":"id","print-config":{},"export-config":{},loading:e.demo1.loading,"tree-config":e.demo1.treeConfig,"edit-config":{trigger:"click",mode:"row",showStatus:!0},data:e.demo1.tableData},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(T,{type:"checkbox",width:"60"}),Object(a["createVNode"])(T,{field:"name",title:"Name","tree-node":""}),Object(a["createVNode"])(T,{field:"size",title:"Size","edit-render":{}},{edit:Object(a["withCtx"])((function(e){var t=e.row;return[Object(a["createVNode"])(O,{modelValue:t.size,"onUpdate:modelValue":function(e){return t.size=e},type:"text"},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),Object(a["createVNode"])(T,{field:"type",title:"Type","edit-render":{}},{edit:Object(a["withCtx"])((function(e){var t=e.row;return[Object(a["createVNode"])(O,{modelValue:t.type,"onUpdate:modelValue":function(e){return t.type=e},type:"text"},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),Object(a["createVNode"])(T,{field:"date",title:"Date","edit-render":{}},{edit:Object(a["withCtx"])((function(e){var t=e.row;return[Object(a["createVNode"])(O,{modelValue:t.date,"onUpdate:modelValue":function(e){return t.date=e},type:"date",transfer:""},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),Object(a["createVNode"])(T,{title:"操作",width:"500"},{default:Object(a["withCtx"])((function(t){var n=t.row;return[Object(a["createVNode"])(g,{type:"text",status:"primary",onClick:function(t){return e.insertRow(n,"current")}},{default:Object(a["withCtx"])((function(){return[l]})),_:2},1032,["onClick"]),Object(a["createVNode"])(g,{type:"text",status:"primary",onClick:function(t){return e.insertRow(n,"top")}},{default:Object(a["withCtx"])((function(){return[s]})),_:2},1032,["onClick"]),Object(a["createVNode"])(g,{type:"text",status:"primary",onClick:function(t){return e.insertRow(n,"bottom")}},{default:Object(a["withCtx"])((function(){return[u]})),_:2},1032,["onClick"]),Object(a["createVNode"])(g,{type:"text",status:"primary",onClick:function(t){return e.removeRow(n)}},{default:Object(a["withCtx"])((function(){return[p]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["loading","tree-config","data"]),Object(a["createElementVNode"])("p",b,Object(a["toDisplayString"])(e.$t("app.body.button.showCode")),1),Object(a["createElementVNode"])("pre",null,[m,Object(a["createVNode"])(R,{class:"xml"},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.demoCodes[0]),1)]})),_:1}),v,Object(a["createVNode"])(R,{class:"typescript"},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.demoCodes[1]),1)]})),_:1}),x])])}var f=n("1da1"),j=(n("96cf"),n("d3b7"),n("99af"),n("55db")),g=Object(a["defineComponent"])({setup:function(){var e=Object(a["reactive"])({loading:!1,tableData:[],treeConfig:{transform:!0,rowField:"id",parentField:"parentId"}}),t=Object(a["ref"])({}),n=Object(a["ref"])({}),r=function(){return e.loading=!0,new Promise((function(t){setTimeout((function(){e.tableData=[{id:1e4,parentId:null,name:"vxe-table test abc1",type:"mp3",size:1024,date:"2020-08-01"},{id:10050,parentId:null,name:"Test2",type:"mp4",size:null,date:"2021-04-01"},{id:24300,parentId:10050,name:"Test3",type:"avi",size:1024,date:"2020-03-01"},{id:20045,parentId:24300,name:"vxe-table test abc4",type:"html",size:600,date:"2021-04-01"},{id:10053,parentId:24300,name:"vxe-table test abc96",type:"avi",size:null,date:"2021-04-01"},{id:24330,parentId:10053,name:"vxe-table test abc5",type:"txt",size:25,date:"2021-10-01"},{id:21011,parentId:10053,name:"Test6",type:"pdf",size:512,date:"2020-01-01"},{id:22200,parentId:10053,name:"Test7",type:"js",size:1024,date:"2021-06-01"},{id:23666,parentId:null,name:"Test8",type:"xlsx",size:2048,date:"2020-11-01"},{id:23677,parentId:23666,name:"Test7",type:"js",size:1024,date:"2021-06-01"},{id:23671,parentId:23677,name:"Test7",type:"js",size:1024,date:"2021-06-01"},{id:23672,parentId:23677,name:"Test7",type:"js",size:1024,date:"2021-06-01"},{id:23688,parentId:23666,name:"Test7",type:"js",size:1024,date:"2021-06-01"},{id:23681,parentId:23688,name:"Test7",type:"js",size:1024,date:"2021-06-01"},{id:23682,parentId:23688,name:"Test7",type:"js",size:1024,date:"2021-06-01"},{id:24555,parentId:null,name:"vxe-table test abc9",type:"avi",size:224,date:"2020-10-01"},{id:24566,parentId:24555,name:"Test7",type:"js",size:1024,date:"2021-06-01"},{id:24577,parentId:24555,name:"Test7",type:"js",size:1024,date:"2021-06-01"}],e.loading=!1,t(null)}),300)}))},o=function(){var e=t.value;return e.clearAll(),r()},c=function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(n,a){var r,o,c,i,d,l,s,u,p,b,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.value,o=new Date,"current"!==a){e.next=12;break}return c={name:"新数据",id:Date.now(),parentId:n.parentId,date:"".concat(o.getFullYear(),"-").concat(o.getMonth()+1,"-").concat(o.getDate())},e.next=6,r.insertAt(c,n);case 6:return i=e.sent,d=i.row,e.next=10,r.setActiveRow(d);case 10:e.next=34;break;case 12:if("top"!==a){e.next=24;break}return l={name:"新数据",id:Date.now(),parentId:n.id,date:"".concat(o.getFullYear(),"-").concat(o.getMonth()+1,"-").concat(o.getDate())},e.next=16,r.insert(l);case 16:return s=e.sent,u=s.row,e.next=20,r.setTreeExpand(n,!0);case 20:return e.next=22,r.setActiveRow(u);case 22:e.next=34;break;case 24:if("bottom"!==a){e.next=34;break}return p={name:"新数据",id:Date.now(),parentId:n.id,date:"".concat(o.getFullYear(),"-").concat(o.getMonth()+1,"-").concat(o.getDate())},e.next=28,r.insertAt(p,-1);case 28:return b=e.sent,m=b.row,e.next=32,r.setTreeExpand(n,!0);case 32:return e.next=34,r.setActiveRow(m);case 34:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),i=function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.value,e.next=3,a.remove(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var n,a,r,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.value,a=new Date,r={name:"新数据",id:Date.now(),parentId:null,date:"".concat(a.getFullYear(),"-").concat(a.getMonth()+1,"-").concat(a.getDate())},e.next=5,n.insert(r);case 5:return o=e.sent,c=o.row,e.next=9,n.setActiveRow(c);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=t.value,n=e.getInsertRecords();j["a"].modal.alert("新增：".concat(n.length))},s=function(){var e=t.value,n=e.getRemoveRecords();j["a"].modal.alert(n.length)},u=function(){var e=t.value,n=e.getUpdateRecords();j["a"].modal.alert("更新：".concat(n.length))};return Object(a["nextTick"])((function(){var e=t.value,a=n.value;e.connect(a),r()})),{xTable:t,xToolbar:n,demo1:e,insertEvent:d,searchMethod:o,removeRow:i,insertRow:c,getInsertEvent:l,getRemoveEvent:s,getUpdateEvent:u,demoCodes:['\n        <vxe-toolbar ref="xToolbar" :refresh="{query: searchMethod}" export print custom>\n          <template #buttons>\n            <vxe-button @click="insertEvent">新增</vxe-button>\n            <vxe-button @click="getInsertEvent">获取新增</vxe-button>\n            <vxe-button @click="getRemoveEvent">获取删除</vxe-button>\n            <vxe-button @click="getUpdateEvent">获取修改</vxe-button>\n          </template>\n        </vxe-toolbar>\n\n        <vxe-table\n          resizable\n          show-overflow\n          keep-source\n          ref="xTable"\n          row-id="id"\n          :print-config="{}"\n          :export-config="{}"\n          :loading="demo1.loading"\n          :tree-config="demo1.treeConfig"\n          :edit-config="{trigger: \'click\', mode: \'row\', showStatus: true}"\n          :data="demo1.tableData">\n          <vxe-column type="checkbox" width="60"></vxe-column>\n          <vxe-column field="name" title="Name" tree-node></vxe-column>\n          <vxe-column field="size" title="Size" :edit-render="{}">\n            <template #edit="{ row }">\n              <vxe-input v-model="row.size" type="text"></vxe-input>\n            </template>\n          </vxe-column>\n          <vxe-column field="type" title="Type" :edit-render="{}">\n            <template #edit="{ row }">\n              <vxe-input v-model="row.type" type="text"></vxe-input>\n            </template>\n          </vxe-column>\n          <vxe-column field="date" title="Date" :edit-render="{}">\n            <template #edit="{ row }">\n              <vxe-input v-model="row.date" type="date" transfer></vxe-input>\n            </template>\n          </vxe-column>\n          <vxe-column title="操作" width="500">\n            <template #default="{ row }">\n              <vxe-button type="text" status="primary" @click="insertRow(row, \'current\')">插入节点</vxe-button>\n              <vxe-button type="text" status="primary" @click="insertRow(row, \'top\')">顶部插入节点</vxe-button>\n              <vxe-button type="text" status="primary" @click="insertRow(row, \'bottom\')">尾部插入子节点</vxe-button>\n              <vxe-button type="text" status="primary" @click="removeRow(row)">删除节点</vxe-button>\n            </template>\n          </vxe-column>\n        </vxe-table>\n        ',"\n        import { defineComponent, reactive, ref, nextTick } from 'vue'\n        import { VXETable, VxeTableInstance, VxeToolbarInstance } from 'vxe-table'\n\n        export default defineComponent({\n          setup () {\n            const demo1 = reactive({\n              loading: false,\n              tableData: [] as any[],\n              treeConfig: {\n                transform: true,\n                rowField: 'id',\n                parentField: 'parentId'\n              }\n            })\n\n            const xTable = ref({} as VxeTableInstance)\n            const xToolbar = ref({} as VxeToolbarInstance)\n\n            const findList = () => {\n              demo1.loading = true\n              return new Promise(resolve => {\n                setTimeout(() => {\n                  demo1.tableData = [\n                    { id: 10000, parentId: null, name: 'vxe-table test abc1', type: 'mp3', size: 1024, date: '2020-08-01' },\n                    { id: 10050, parentId: null, name: 'Test2', type: 'mp4', size: null, date: '2021-04-01' },\n                    { id: 24300, parentId: 10050, name: 'Test3', type: 'avi', size: 1024, date: '2020-03-01' },\n                    { id: 20045, parentId: 24300, name: 'vxe-table test abc4', type: 'html', size: 600, date: '2021-04-01' },\n                    { id: 10053, parentId: 24300, name: 'vxe-table test abc96', type: 'avi', size: null, date: '2021-04-01' },\n                    { id: 24330, parentId: 10053, name: 'vxe-table test abc5', type: 'txt', size: 25, date: '2021-10-01' },\n                    { id: 21011, parentId: 10053, name: 'Test6', type: 'pdf', size: 512, date: '2020-01-01' },\n                    { id: 22200, parentId: 10053, name: 'Test7', type: 'js', size: 1024, date: '2021-06-01' },\n                    { id: 23666, parentId: null, name: 'Test8', type: 'xlsx', size: 2048, date: '2020-11-01' },\n                    { id: 23677, parentId: 23666, name: 'Test7', type: 'js', size: 1024, date: '2021-06-01' },\n                    { id: 23671, parentId: 23677, name: 'Test7', type: 'js', size: 1024, date: '2021-06-01' },\n                    { id: 23672, parentId: 23677, name: 'Test7', type: 'js', size: 1024, date: '2021-06-01' },\n                    { id: 23688, parentId: 23666, name: 'Test7', type: 'js', size: 1024, date: '2021-06-01' },\n                    { id: 23681, parentId: 23688, name: 'Test7', type: 'js', size: 1024, date: '2021-06-01' },\n                    { id: 23682, parentId: 23688, name: 'Test7', type: 'js', size: 1024, date: '2021-06-01' },\n                    { id: 24555, parentId: null, name: 'vxe-table test abc9', type: 'avi', size: 224, date: '2020-10-01' },\n                    { id: 24566, parentId: 24555, name: 'Test7', type: 'js', size: 1024, date: '2021-06-01' },\n                    { id: 24577, parentId: 24555, name: 'Test7', type: 'js', size: 1024, date: '2021-06-01' }\n                  ]\n                  demo1.loading = false\n                  resolve(null)\n                }, 300)\n              })\n            }\n\n            const searchMethod = () => {\n              const $table = xTable.value\n              // 清除所有状态\n              $table.clearAll()\n              return findList()\n            }\n\n            const insertRow = async (currRow: any, locat: string) => {\n              const $table = xTable.value\n              const date = new Date()\n              // 如果 null 则插入到目标节点顶部\n              // 如果 -1 则插入到目标节点底部\n              // 如果 row 则有插入到效的目标节点该行的位置\n              if (locat === 'current') {\n                const record = {\n                  name: '新数据',\n                  id: Date.now(),\n                  parentId: currRow.parentId, // 父节点必须与当前行一致\n                  date: `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()}`\n                }\n                const { row: newRow } = await $table.insertAt(record, currRow)\n                await $table.setActiveRow(newRow) // 插入子节点\n              } else if (locat === 'top') {\n                const record = {\n                  name: '新数据',\n                  id: Date.now(),\n                  parentId: currRow.id, // 需要指定父节点，自动插入该节点中\n                  date: `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()}`\n                }\n                const { row: newRow } = await $table.insert(record)\n                await $table.setTreeExpand(currRow, true) // 将父节点展开\n                await $table.setActiveRow(newRow) // 插入子节点\n              } else if (locat === 'bottom') {\n                const record = {\n                  name: '新数据',\n                  id: Date.now(),\n                  parentId: currRow.id, // 需要指定父节点，自动插入该节点中\n                  date: `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()}`\n                }\n                const { row: newRow } = await $table.insertAt(record, -1)\n                await $table.setTreeExpand(currRow, true) // 将父节点展开\n                await $table.setActiveRow(newRow) // 插入子节点\n              }\n            }\n\n            const removeRow = async (row: any) => {\n              const $table = xTable.value\n              await $table.remove(row)\n            }\n\n            const insertEvent = async () => {\n              const $table = xTable.value\n              const date = new Date()\n              const record = {\n                name: '新数据',\n                id: Date.now(),\n                parentId: null,\n                date: `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()}`\n              }\n              const { row: newRow } = await $table.insert(record)\n              await $table.setActiveRow(newRow)\n            }\n\n            const getInsertEvent = () => {\n              const $table = xTable.value\n              const insertRecords = $table.getInsertRecords()\n              VXETable.modal.alert(`新增：${insertRecords.length}`)\n            }\n\n            const getRemoveEvent = () => {\n              const $table = xTable.value\n              const removeRecords = $table.getRemoveRecords()\n              VXETable.modal.alert(removeRecords.length)\n            }\n\n            const getUpdateEvent = () => {\n              const $table = xTable.value\n              const updateRecords = $table.getUpdateRecords()\n              VXETable.modal.alert(`更新：${updateRecords.length}`)\n            }\n\n            nextTick(() => {\n              // 将表格和工具栏进行关联\n              const $table = xTable.value\n              const $toolbar = xToolbar.value\n              $table.connect($toolbar)\n              findList()\n            })\n\n            return {\n              xTable,\n              xToolbar,\n              demo1,\n              insertEvent,\n              searchMethod,\n              removeRow,\n              insertRow,\n              getInsertEvent,\n              getRemoveEvent,\n              getUpdateEvent\n            }\n          }\n        })\n        "]}}}),y=n("6b0d"),T=n.n(y);const O=T()(g,[["render",w]]);t["default"]=O}}]);