(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-166a41d2"],{"28e1":function(e,n,t){"use strict";t("8913")},"4df4":function(e,n,t){"use strict";var a=t("da84"),i=t("0366"),l=t("c65b"),s=t("7b0b"),r=t("9bdd"),o=t("e95a"),d=t("68ee"),f=t("07fa"),p=t("8418"),c=t("9a1f"),u=t("35a1"),m=a.Array;e.exports=function(e){var n=s(e),t=d(this),a=arguments.length,v=a>1?arguments[1]:void 0,h=void 0!==v;h&&(v=i(v,a>2?arguments[2]:void 0));var x,b,w,y,_,g,E=u(n),C=0;if(!E||this==m&&o(E))for(x=f(n),b=t?new this(x):m(x);x>C;C++)g=h?v(n[C],C):n[C],p(b,C,g);else for(y=c(n,E),_=y.next,b=t?new this:[];!(w=l(_,y)).done;C++)g=h?r(y,v,[w.value,C],!0):w.value,p(b,C,g);return b.length=C,b}},8913:function(e,n,t){},"9bdd":function(e,n,t){var a=t("825a"),i=t("2a62");e.exports=function(e,n,t,l){try{return l?n(a(t)[0],t[1]):n(t)}catch(s){i(e,"throw",s)}}},a630:function(e,n,t){var a=t("23e7"),i=t("4df4"),l=t("1c7e"),s=!l((function(e){Array.from(e)}));a({target:"Array",stat:!0,forced:s},{from:i})},aa0b:function(e,n,t){"use strict";t.r(n);var a=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("p",{staticClass:"tip"},[e._v("实现附件上传，使用展开行和 "),t("table-api-link",{attrs:{prop:"readFile"}}),e._v(" 本地文件读取函数"),t("span",{staticClass:"red"},[e._v("（具体请自行实现，该示例仅供参考）")])],1),t("vxe-grid",{ref:"xGrid",attrs:{border:"",resizable:"","max-height":"500",columns:e.tableColumn,data:e.tableData},scopedSlots:e._u([{key:"fileExpand",fn:function(n){var a=n.row;return[a.fileList.length?t("ul",{staticClass:"file-list"},e._l(a.fileList,(function(n,a){return t("li",{key:a},[t("span",[e._v(e._s(n.name))]),t("span",[e._v(e._s(n.size))]),t("span",[e._v(e._s(n.type))]),t("span",[e._v(e._s(n.date))])])})),0):t("div",{staticClass:"file-empty"},[e._v("暂无附件")])]}},{key:"cellExpand",fn:function(n){var a=n.row;return[t("span",[e._v("（"+e._s(a.fileList.length)+"）")])]}},{key:"operation",fn:function(n){var a=n.row;return[t("vxe-button",{attrs:{status:"primary"},on:{click:function(n){return e.uploadFileEvent(a)}}},[e._v("添加附件")])]}}])}),t("p",{staticClass:"demo-code"},[e._v(e._s(e.$t("app.body.button.showCode")))]),t("pre",[e._v("    "),t("code",{staticClass:"xml"},[e._v(e._s(e.demoCodes[0]))]),e._v("\n    "),t("code",{staticClass:"javascript"},[e._v(e._s(e.demoCodes[1]))]),e._v("\n    "),t("code",{staticClass:"css"},[e._v(e._s(e.demoCodes[2]))]),e._v("\n  ")])],1)},i=[],l=(t("d3b7"),t("159b"),t("a630"),t("3ca3"),t("ac1f"),t("1276"),t("b0c0"),t("a15b"),t("fb6a"),t("c695")),s=t.n(l),r=t("f4e8"),o=t.n(r),d={data:function(){return{tableColumn:[{type:"seq",width:50},{type:"expand",width:120,slots:{content:"fileExpand",default:"cellExpand"}},{field:"name",title:"app.body.label.name"},{field:"sex",title:"app.body.label.sex"},{title:"操作",width:160,showOverflow:!0,slots:{default:"operation"}}],tableData:[{name:"name1",sex:"男",age:"26",fileList:[]},{name:"name2",sex:"女",age:"28",fileList:[]},{name:"name3",sex:"男",age:"30",fileList:[]}],demoCodes:['\n        <vxe-grid\n          border\n          resizable\n          ref="xGrid"\n          max-height="500"\n          :columns="tableColumn"\n          :data="tableData">\n          \x3c!--使用自定义模板--\x3e\n          <template v-slot:fileExpand="{ row }">\n            <ul v-if="row.fileList.length" class="file-list">\n              <li v-for="(file, index) in row.fileList" :key="index">\n                <span>{{ file.name }}</span>\n                <span>{{ file.size }}</span>\n                <span>{{ file.type }}</span>\n                <span>{{ file.date }}</span>\n              </li>\n            </ul>\n            <div v-else class="file-empty">暂无附件</div>\n          </template>\n          <template v-slot:cellExpand="{ row }">\n            <span>（{{ row.fileList.length }}）</span>\n          </template>\n          <template v-slot:operation="{ row }">\n            <vxe-button status="primary" @click="uploadFileEvent(row)">添加附件</vxe-button>\n          </template>\n        </vxe-grid>\n        ',"\n        export default {\n          data () {\n            return {\n              tableColumn: [\n                { type: 'seq', width: 50 },\n                { type: 'expand', width: 120, slots: { content: 'fileExpand', default: 'cellExpand' } },\n                { field: 'name', title: 'app.body.label.name' },\n                { field: 'sex', title: 'app.body.label.sex' },\n                { title: '操作', width: 160, showOverflow: true, slots: { default: 'operation' } }\n              ],\n              tableData: [\n                { name: 'name1', sex: '男', age: '26', fileList: [] },\n                { name: 'name2', sex: '女', age: '28', fileList: [] },\n                { name: 'name3', sex: '男', age: '30', fileList: [] }\n              ]\n            }\n          },\n          methods: {\n            // 读取附件\n            uploadFileEvent (row) {\n              this.$refs.xGrid.readFile({\n                multiple: true,\n                types: ['xlsx', 'csv', 'html']\n              }).then(params => {\n                const { files } = params\n                // 解析数据并显示\n                Array.from(files).forEach(file => {\n                  let ns = file.name.split('.')\n                  let name = ns.slice(0, ns.length - 1).join('')\n                  let type = ns[ns.length - 1]\n                  let record = {\n                    name: name,\n                    size: file.size,\n                    type: type,\n                    date: XEUtils.toDateString(new Date())\n                  }\n                  row.fileList.push(record)\n                })\n                // 加载完成后展开行\n                this.$refs.xGrid.setRowExpand(row, true)\n              })\n            }\n          }\n        }\n        ","\n        .file-list li span{\n          display: inline-block;\n          width: 25%;\n        }\n        .file-empty {\n          text-align: center;\n        }\n        "]}},mounted:function(){Array.from(this.$el.querySelectorAll("pre code")).forEach((function(e){o.a.highlightBlock(e)}))},methods:{uploadFileEvent:function(e){var n=this;this.$refs.xGrid.readFile({multiple:!0,types:["xlsx","csv","html"]}).then((function(t){var a=t.files;Array.from(a).forEach((function(n){var t=n.name.split("."),a=t.slice(0,t.length-1).join(""),i=t[t.length-1],l={name:a,size:n.size,type:i,date:s.a.toDateString(new Date)};e.fileList.push(l)})),n.$refs.xGrid.setRowExpand(e,!0)}))}}},f=d,p=(t("28e1"),t("2877")),c=Object(p["a"])(f,a,i,!1,null,"6b6010f0",null);n["default"]=c.exports}}]);